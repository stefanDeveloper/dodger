diff --git a/single-node/docker-compose.yml b/single-node/docker-compose.yml
index 3f066fd..a9f3e30 100644
--- a/single-node/docker-compose.yml
+++ b/single-node/docker-compose.yml
@@ -6,6 +6,9 @@ services:
     image: wazuh/wazuh-manager:4.5.0
     hostname: wazuh.manager
     restart: always
+    networks:
+      proxy:
+        ipv4_address: 172.18.0.22
     ulimits:
       memlock:
         soft: -1
@@ -14,14 +17,14 @@ services:
         soft: 655360
         hard: 655360
     ports:
-      - "1514:1514"
-      - "1515:1515"
-      - "514:514/udp"
-      - "55000:55000"
+      - "127.0.0.1:1514:1514"
+      - "127.0.0.1:1515:1515"
+      - "127.0.0.1:514:514/udp"
+      - "127.0.0.1:55000:55000"
     environment:
       - INDEXER_URL=https://wazuh.indexer:9200
       - INDEXER_USERNAME=admin
-      - INDEXER_PASSWORD=SecretPassword
+      - INDEXER_PASSWORD=${INDEX_PASSWORD}
       - FILEBEAT_SSL_VERIFICATION_MODE=full
       - SSL_CERTIFICATE_AUTHORITIES=/etc/ssl/root-ca.pem
       - SSL_CERTIFICATE=/etc/ssl/filebeat.pem
@@ -44,13 +47,12 @@ services:
       - ./config/wazuh_indexer_ssl_certs/wazuh.manager.pem:/etc/ssl/filebeat.pem
       - ./config/wazuh_indexer_ssl_certs/wazuh.manager-key.pem:/etc/ssl/filebeat.key
       - ./config/wazuh_cluster/wazuh_manager.conf:/wazuh-config-mount/etc/ossec.conf
-
   wazuh.indexer:
     image: wazuh/wazuh-indexer:4.5.0
     hostname: wazuh.indexer
     restart: always
     ports:
-      - "9200:9200"
+      - "127.0.0.1:9200:9200"
     environment:
       - "OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m"
     ulimits:
@@ -69,19 +71,26 @@ services:
       - ./config/wazuh_indexer_ssl_certs/admin-key.pem:/usr/share/wazuh-indexer/certs/admin-key.pem
       - ./config/wazuh_indexer/wazuh.indexer.yml:/usr/share/wazuh-indexer/opensearch.yml
       - ./config/wazuh_indexer/internal_users.yml:/usr/share/wazuh-indexer/opensearch-security/internal_users.yml
-
+    networks:
+      - proxy
   wazuh.dashboard:
     image: wazuh/wazuh-dashboard:4.5.0
     hostname: wazuh.dashboard
     restart: always
-    ports:
-      - 443:5601
+    labels:
+      - "traefik.enable=true"
+      - "traefik.http.routers.wazuh.rule=Host(`wazuh.${DOMAIN}`)"
+      - "traefik.http.routers.wazuh.entrypoints=websecure"
+      - "traefik.http.routers.wazuh.tls.certresolver=mytlschallenge"
+      - "traefik.http.services.wazuh.loadbalancer.server.port=5601"
+      #ports:
+      #- 443:5601
     environment:
       - INDEXER_USERNAME=admin
-      - INDEXER_PASSWORD=SecretPassword
+      - INDEXER_PASSWORD=${INDEX_PASSWORD}
       - WAZUH_API_URL=https://wazuh.manager
       - DASHBOARD_USERNAME=kibanaserver
-      - DASHBOARD_PASSWORD=kibanaserver
+      - DASHBOARD_PASSWORD=${DASHBOARD_PASSWORD}
       - API_USERNAME=wazuh-wui
       - API_PASSWORD=MyS3cr37P450r.*-
     volumes:
@@ -95,7 +104,11 @@ services:
     links:
       - wazuh.indexer:wazuh.indexer
       - wazuh.manager:wazuh.manager
-
+    networks:
+      - proxy
+networks:
+  proxy:
+    external: true
 volumes:
   wazuh_api_configuration:
   wazuh_etc: